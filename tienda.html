<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BIPADEL | Tienda</title>
  <link rel="stylesheet" href="tienda.css">
</head>
<body>
  <header>
    <h2>BIPADEL Tienda</h2>
    <button onclick="window.location.href='inicio.html'">Volver</button>
  </header>

  <main>
    <section class="productos">
  <div class="producto" data-nombre="Pala Pro" data-precio="120">
    <img src="img/pala-pro.jpg" alt="Pala Pro">
    <h4>Pala Pro</h4>
    <p>Alta precisiÃ³n y potencia.</p>
    <button>AÃ±adir (120â‚¬)</button>
  </div>

  <div class="producto" data-nombre="Pelotas Premium" data-precio="8">
    <img src="img/pelotas-premium.jpg" alt="Pelotas Premium">
    <h4>Pelotas Premium</h4>
    <p>Pack de 3 unidades.</p>
    <button>AÃ±adir (8â‚¬)</button>
  </div>

  <div class="producto" data-nombre="Camiseta TÃ©cnica" data-precio="25">
    <img src="img/camiseta-tecnica.jpg" alt="Camiseta TÃ©cnica">
    <h4>Camiseta TÃ©cnica</h4>
    <p>Ligera y transpirable.</p>
    <button>AÃ±adir (25â‚¬)</button>
  </div>
</section>


    <aside class="carrito">
      <h3>ðŸ›’ Tu carrito</h3>
      <ul id="lista-carrito"></ul>
      <p>Total: <span id="total">0</span>â‚¬</p>
      <button id="comprar">Finalizar compra</button>
    </aside>
  </main>

  <script>
    const carrito = JSON.parse(localStorage.getItem('carrito')) || [];
    const lista = document.getElementById('lista-carrito');
    const totalTxt = document.getElementById('total');

    function renderCarrito() {
      lista.innerHTML = carrito.map(p => `<li>${p.nombre} - ${p.precio}â‚¬</li>`).join('');
      totalTxt.textContent = carrito.reduce((t, p) => t + p.precio, 0);
      localStorage.setItem('carrito', JSON.stringify(carrito));
    }

    document.querySelectorAll('.producto button').forEach(btn => {
      btn.addEventListener('click', e => {
        const card = e.target.closest('.producto');
        const producto = {
          nombre: card.dataset.nombre,
          precio: parseFloat(card.dataset.precio)
        };
        carrito.push(producto);
        renderCarrito();
      });
    });

    document.getElementById('comprar').addEventListener('click', () => {
      if (carrito.length === 0) return alert('Tu carrito estÃ¡ vacÃ­o.');
      alert('âœ… Compra realizada con Ã©xito. Â¡Gracias por confiar en BIPADEL!');
      localStorage.removeItem('carrito');
      location.reload();
    });

    renderCarrito();
  </script>
</body>
</html>
